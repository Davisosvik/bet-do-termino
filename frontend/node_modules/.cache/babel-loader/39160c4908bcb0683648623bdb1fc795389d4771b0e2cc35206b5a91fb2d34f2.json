{"ast":null,"code":"// ==============================\n// src/api/api.js\n// ==============================\nimport axios from\"axios\";// Criando instância do axios\nconst api=axios.create({baseURL:\"http://localhost:5000\",headers:{\"Content-Type\":\"application/json\"}});// ==============================\n// REGISTRO\n// ==============================\nexport async function register(_ref){let{username,email,password}=_ref;try{const response=await api.post(\"/auth/register\",{username,email,password});return{success:true,message:response.data.message};}catch(error){var _error$response,_error$response$data;return{success:false,message:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Erro ao registrar sua conta.\"};}}// ==============================\n// LOGIN\n// ==============================\nexport async function login(email,password){try{const response=await api.post(\"/auth/login\",{email,password});// salva token\nif(response.data.token){localStorage.setItem(\"token\",response.data.token);}return{success:true,user:response.data.user,token:response.data.token,message:response.data.message};}catch(error){var _error$response2,_error$response2$data;return{success:false,message:((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||\"Erro ao realizar login.\"};}}export default api;// ==============================\n// BETS - PÚBLICAS\n// ==============================\nexport async function getBets(){try{const response=await api.get(\"/api/bets\");return{success:true,bets:response.data.bets||response.data};}catch(err){var _err$response,_err$response$data;return{success:false,message:((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Erro ao buscar bets.\"};}}export async function getBet(id){try{const response=await api.get(\"/api/bets/\".concat(id));return{success:true,bet:response.data.bet};}catch(err){var _err$response2,_err$response2$data;return{success:false,message:((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Erro ao buscar bet.\"};}}// ==============================\n// FAZER APOSTA\n// ==============================\nexport async function placeWager(betId,_ref2){let{optionId,amount}=_ref2;try{const token=localStorage.getItem(\"token\");const response=await api.post(\"/api/bets/\".concat(betId,\"/wager\"),{optionId,amount},{headers:token?{Authorization:\"Bearer \".concat(token)}:{}});return{success:true,wager:response.data.wager||response.data};}catch(err){var _err$response3,_err$response3$data;return{success:false,message:((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Erro ao fazer aposta.\"};}}// ==============================\n// CRIAR BET\n// ==============================\nexport async function createBet(_ref3){let{title,description,options,endsAt}=_ref3;try{const token=localStorage.getItem(\"token\");const response=await api.post(\"/api/bets\",{title,description,options,endsAt},{headers:token?{Authorization:\"Bearer \".concat(token)}:{}});return{success:true,bet:response.data.bet||response.data};}catch(err){var _err$response4,_err$response4$data;return{success:false,message:((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Erro ao criar aposta.\"};}}","map":{"version":3,"names":["axios","api","create","baseURL","headers","register","_ref","username","email","password","response","post","success","message","data","error","_error$response","_error$response$data","login","token","localStorage","setItem","user","_error$response2","_error$response2$data","getBets","get","bets","err","_err$response","_err$response$data","getBet","id","concat","bet","_err$response2","_err$response2$data","placeWager","betId","_ref2","optionId","amount","getItem","Authorization","wager","_err$response3","_err$response3$data","createBet","_ref3","title","description","options","endsAt","_err$response4","_err$response4$data"],"sources":["C:/DAVI/Bet/frontend/src/api/api.js"],"sourcesContent":["// ==============================\r\n// src/api/api.js\r\n// ==============================\r\n\r\nimport axios from \"axios\";\r\n\r\n// Criando instância do axios\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// ==============================\r\n// REGISTRO\r\n// ==============================\r\nexport async function register({ username, email, password }) {\r\n  try {\r\n    const response = await api.post(\"/auth/register\", {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      message: response.data.message,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message:\r\n        error.response?.data?.message || \"Erro ao registrar sua conta.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// LOGIN\r\n// ==============================\r\nexport async function login(email, password) {\r\n  try {\r\n    const response = await api.post(\"/auth/login\", {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    // salva token\r\n    if (response.data.token) {\r\n      localStorage.setItem(\"token\", response.data.token);\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      user: response.data.user,\r\n      token: response.data.token,\r\n      message: response.data.message,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message:\r\n        error.response?.data?.message || \"Erro ao realizar login.\",\r\n    };\r\n  }\r\n}\r\n\r\nexport default api;\r\n\r\n// ==============================\r\n// BETS - PÚBLICAS\r\n// ==============================\r\nexport async function getBets() {\r\n  try {\r\n    const response = await api.get(\"/api/bets\");\r\n    return { success: true, bets: response.data.bets || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao buscar bets.\",\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getBet(id) {\r\n  try {\r\n    const response = await api.get(`/api/bets/${id}`);\r\n    return { success: true, bet: response.data.bet };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao buscar bet.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// FAZER APOSTA\r\n// ==============================\r\nexport async function placeWager(betId, { optionId, amount }) {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const response = await api.post(\r\n      `/api/bets/${betId}/wager`,\r\n      { optionId, amount },\r\n      {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      }\r\n    );\r\n\r\n    return { success: true, wager: response.data.wager || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao fazer aposta.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// CRIAR BET\r\n// ==============================\r\nexport async function createBet({ title, description, options, endsAt }) {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const response = await api.post(\r\n      `/api/bets`,\r\n      { title, description, options, endsAt },\r\n      {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      }\r\n    );\r\n\r\n    return { success: true, bet: response.data.bet || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao criar aposta.\",\r\n    };\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}