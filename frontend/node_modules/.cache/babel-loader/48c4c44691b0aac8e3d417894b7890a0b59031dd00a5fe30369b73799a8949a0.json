{"ast":null,"code":"// ==============================\n// src/api/api.js\n// ==============================\n\nimport axios from \"axios\";\n\n// Criando instância do axios\nconst api = axios.create({\n  baseURL: \"http://localhost:5000\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// ==============================\n// REGISTRO\n// ==============================\nexport async function register({\n  username,\n  email,\n  password\n}) {\n  try {\n    const response = await api.post(\"/auth/register\", {\n      username,\n      email,\n      password\n    });\n    return {\n      success: true,\n      message: response.data.message\n    };\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return {\n      success: false,\n      message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erro ao registrar sua conta.\"\n    };\n  }\n}\n\n// ==============================\n// LOGIN\n// ==============================\nexport async function login(email, password) {\n  try {\n    const response = await api.post(\"/auth/login\", {\n      email,\n      password\n    });\n\n    // salva token\n    if (response.data.token) {\n      localStorage.setItem(\"token\", response.data.token);\n    }\n    return {\n      success: true,\n      user: response.data.user,\n      token: response.data.token,\n      message: response.data.message\n    };\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    return {\n      success: false,\n      message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Erro ao realizar login.\"\n    };\n  }\n}\nexport default api;\n\n// ==============================\n// BETS - PÚBLICAS\n// ==============================\nexport async function getBets() {\n  try {\n    const response = await api.get(\"/api/bets\");\n    return {\n      success: true,\n      bets: response.data.bets || response.data\n    };\n  } catch (err) {\n    var _err$response, _err$response$data;\n    return {\n      success: false,\n      message: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Erro ao buscar bets.\"\n    };\n  }\n}\nexport async function getBet(id) {\n  try {\n    const response = await api.get(`/api/bets/${id}`);\n    return {\n      success: true,\n      bet: response.data.bet\n    };\n  } catch (err) {\n    var _err$response2, _err$response2$data;\n    return {\n      success: false,\n      message: ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Erro ao buscar bet.\"\n    };\n  }\n}\n\n// ==============================\n// FAZER APOSTA\n// ==============================\nexport async function placeWager(betId, {\n  optionId,\n  amount\n}) {\n  try {\n    const token = localStorage.getItem(\"token\");\n    const response = await api.post(`/api/bets/${betId}/wager`, {\n      optionId,\n      amount\n    }, {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {}\n    });\n    return {\n      success: true,\n      wager: response.data.wager || response.data\n    };\n  } catch (err) {\n    var _err$response3, _err$response3$data;\n    return {\n      success: false,\n      message: ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Erro ao fazer aposta.\"\n    };\n  }\n}\n\n// ==============================\n// CRIAR BET\n// ==============================\nexport async function createBet({\n  title,\n  description,\n  options,\n  endsAt\n}) {\n  try {\n    const token = localStorage.getItem(\"token\");\n    const response = await api.post(`/api/bets`, {\n      title,\n      description,\n      options,\n      endsAt\n    }, {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {}\n    });\n    return {\n      success: true,\n      bet: response.data.bet || response.data\n    };\n  } catch (err) {\n    var _err$response4, _err$response4$data;\n    return {\n      success: false,\n      message: ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Erro ao criar aposta.\"\n    };\n  }\n}","map":{"version":3,"names":["axios","api","create","baseURL","headers","register","username","email","password","response","post","success","message","data","error","_error$response","_error$response$data","login","token","localStorage","setItem","user","_error$response2","_error$response2$data","getBets","get","bets","err","_err$response","_err$response$data","getBet","id","bet","_err$response2","_err$response2$data","placeWager","betId","optionId","amount","getItem","Authorization","wager","_err$response3","_err$response3$data","createBet","title","description","options","endsAt","_err$response4","_err$response4$data"],"sources":["C:/DAVI/Bet/frontend/src/api/api.js"],"sourcesContent":["// ==============================\r\n// src/api/api.js\r\n// ==============================\r\n\r\nimport axios from \"axios\";\r\n\r\n// Criando instância do axios\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// ==============================\r\n// REGISTRO\r\n// ==============================\r\nexport async function register({ username, email, password }) {\r\n  try {\r\n    const response = await api.post(\"/auth/register\", {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      message: response.data.message,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message:\r\n        error.response?.data?.message || \"Erro ao registrar sua conta.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// LOGIN\r\n// ==============================\r\nexport async function login(email, password) {\r\n  try {\r\n    const response = await api.post(\"/auth/login\", {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    // salva token\r\n    if (response.data.token) {\r\n      localStorage.setItem(\"token\", response.data.token);\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      user: response.data.user,\r\n      token: response.data.token,\r\n      message: response.data.message,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message:\r\n        error.response?.data?.message || \"Erro ao realizar login.\",\r\n    };\r\n  }\r\n}\r\n\r\nexport default api;\r\n\r\n// ==============================\r\n// BETS - PÚBLICAS\r\n// ==============================\r\nexport async function getBets() {\r\n  try {\r\n    const response = await api.get(\"/api/bets\");\r\n    return { success: true, bets: response.data.bets || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao buscar bets.\",\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getBet(id) {\r\n  try {\r\n    const response = await api.get(`/api/bets/${id}`);\r\n    return { success: true, bet: response.data.bet };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao buscar bet.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// FAZER APOSTA\r\n// ==============================\r\nexport async function placeWager(betId, { optionId, amount }) {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const response = await api.post(\r\n      `/api/bets/${betId}/wager`,\r\n      { optionId, amount },\r\n      {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      }\r\n    );\r\n\r\n    return { success: true, wager: response.data.wager || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao fazer aposta.\",\r\n    };\r\n  }\r\n}\r\n\r\n// ==============================\r\n// CRIAR BET\r\n// ==============================\r\nexport async function createBet({ title, description, options, endsAt }) {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const response = await api.post(\r\n      `/api/bets`,\r\n      { title, description, options, endsAt },\r\n      {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      }\r\n    );\r\n\r\n    return { success: true, bet: response.data.bet || response.data };\r\n  } catch (err) {\r\n    return {\r\n      success: false,\r\n      message: err.response?.data?.message || \"Erro ao criar aposta.\",\r\n    };\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}