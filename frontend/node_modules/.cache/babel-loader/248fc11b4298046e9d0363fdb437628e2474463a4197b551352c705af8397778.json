{"ast":null,"code":"var _jsxFileName = \"C:\\\\DAVI\\\\Bet\\\\frontend\\\\src\\\\pages\\\\Bets.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getBets, placeWager, getBet } from \"../api/api\";\nimport BetCard from \"../components/BetCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Bets() {\n  _s();\n  const [bets, setBets] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [amount, setAmount] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    load();\n  }, []);\n  async function load() {\n    const res = await getBets();\n    if (res.success) setBets(res.bets);\n  }\n  function openBet(bet) {\n    var _bet$options, _bet$options$;\n    setSelected(bet);\n    setSelectedOption(((_bet$options = bet.options) === null || _bet$options === void 0 ? void 0 : (_bet$options$ = _bet$options[0]) === null || _bet$options$ === void 0 ? void 0 : _bet$options$.id) || \"\");\n    setAmount(\"\");\n    setMsg(null);\n  }\n  async function handleWager() {\n    if (!selected || !selectedOption || !amount) {\n      setMsg(\"Preencha tudo\");\n      return;\n    }\n    setLoading(true);\n    const res = await placeWager(selected._id, {\n      optionId: selectedOption,\n      amount: Number(amount)\n    });\n    if (res.success) {\n      setMsg(\"Aposta registrada!\");\n      await load();\n    } else {\n      setMsg(res.message || \"Erro\");\n    }\n    setLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bets-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Apostas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bets-grid\",\n      children: bets.map(b => /*#__PURE__*/_jsxDEV(BetCard, {\n        bet: b,\n        onOpen: openBet\n      }, b._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 24\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: selected.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: selected.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: selected.options.map(opt => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\",\n            margin: \"8px 0\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"opt\",\n            value: opt.id,\n            checked: selectedOption === opt.id,\n            onChange: () => setSelectedOption(opt.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), \" \", opt.label, \" \\u2014 odds \", opt.odds]\n        }, opt.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Quantidade (pts)\",\n        value: amount,\n        onChange: e => setAmount(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleWager,\n          disabled: loading,\n          children: loading ? \"Apostando...\" : \"Confirmar aposta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelected(null),\n          style: {\n            marginLeft: 8\n          },\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: 10\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Bets, \"1QcFZSB0puggEK+RiyYdijfJNqA=\");\n_c = Bets;\nvar _c;\n$RefreshReg$(_c, \"Bets\");","map":{"version":3,"names":["React","useEffect","useState","getBets","placeWager","getBet","BetCard","jsxDEV","_jsxDEV","Bets","_s","bets","setBets","selected","setSelected","amount","setAmount","selectedOption","setSelectedOption","msg","setMsg","loading","setLoading","load","res","success","openBet","bet","_bet$options","_bet$options$","options","id","handleWager","_id","optionId","Number","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","b","onOpen","title","description","opt","style","display","margin","type","name","value","checked","onChange","label","odds","placeholder","e","target","marginTop","onClick","disabled","marginLeft","_c","$RefreshReg$"],"sources":["C:/DAVI/Bet/frontend/src/pages/Bets.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getBets, placeWager, getBet } from \"../api/api\";\r\nimport BetCard from \"../components/BetCard\";\r\n\r\nexport default function Bets() {\r\n  const [bets, setBets] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [selectedOption, setSelectedOption] = useState(\"\");\r\n  const [msg, setMsg] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  async function load() {\r\n    const res = await getBets();\r\n    if (res.success) setBets(res.bets);\r\n  }\r\n\r\n  function openBet(bet) {\r\n    setSelected(bet);\r\n    setSelectedOption(bet.options?.[0]?.id || \"\");\r\n    setAmount(\"\");\r\n    setMsg(null);\r\n  }\r\n\r\n  async function handleWager() {\r\n    if (!selected || !selectedOption || !amount) { setMsg(\"Preencha tudo\"); return; }\r\n    setLoading(true);\r\n    const res = await placeWager(selected._id, { optionId: selectedOption, amount: Number(amount) });\r\n    if (res.success) {\r\n      setMsg(\"Aposta registrada!\");\r\n      await load();\r\n    } else {\r\n      setMsg(res.message || \"Erro\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"bets-page\">\r\n      <h2>Apostas</h2>\r\n\r\n      <div className=\"bets-grid\">\r\n        {bets.map(b => <BetCard key={b._id} bet={b} onOpen={openBet} />)}\r\n      </div>\r\n\r\n      {selected && (\r\n        <div className=\"modal\">\r\n          <h3>{selected.title}</h3>\r\n          <p>{selected.description}</p>\r\n\r\n          <div>\r\n            {selected.options.map(opt => (\r\n              <label key={opt.id} style={{ display:\"block\", margin:\"8px 0\" }}>\r\n                <input type=\"radio\" name=\"opt\" value={opt.id}\r\n                  checked={selectedOption === opt.id}\r\n                  onChange={() => setSelectedOption(opt.id)} />\r\n                {\" \"}{opt.label} â€” odds {opt.odds}\r\n              </label>\r\n            ))}\r\n          </div>\r\n\r\n          <input type=\"number\" placeholder=\"Quantidade (pts)\" value={amount} onChange={(e)=>setAmount(e.target.value)} />\r\n          <div style={{ marginTop:8 }}>\r\n            <button onClick={handleWager} disabled={loading}>{loading ? \"Apostando...\" : \"Confirmar aposta\"}</button>\r\n            <button onClick={() => setSelected(null)} style={{ marginLeft:8 }}>Fechar</button>\r\n          </div>\r\n\r\n          {msg && <p style={{ marginTop:10 }}>{msg}</p>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}